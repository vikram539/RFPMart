(()=>{var n,e="usa-js-loading";function t(){document.documentElement.classList.remove(e)}document.documentElement.classList.add(e),n=setTimeout(t,8e3),window.addEventListener("load",function e(){window.uswdsPresent&&(clearTimeout(n),t(),window.removeEventListener("load",e,!0))},!0)})();
//# sourceMappingURL=uswds-init.min.js.map
document.addEventListener("DOMContentLoaded", function () {
  const currentPage = window.location.pathname.split("/").pop();

  // Reset everything first
  document.querySelectorAll(".usa-nav__primary-item").forEach(li => {
    li.classList.remove("is-active");
    li.querySelectorAll(".usa-current").forEach(el =>
      el.classList.remove("usa-current")
    );
  });

  // Handle ALL links (top-level + submenu)
  document.querySelectorAll(".usa-nav a[href]").forEach(link => {
    const linkPage = new URL(link.href, window.location.origin)
      .pathname.split("/")
      .pop();

    if (linkPage === currentPage) {
      // Mark the link active
      link.classList.add("usa-current");

      // Mark closest primary <li> active
      const parentLi = link.closest(".usa-nav__primary-item");
      if (parentLi) {
        parentLi.classList.add("is-active");
      }

      // OPTIONAL: auto-expand submenu
    //   const submenu = link.closest(".usa-nav__submenu");
    //   if (submenu) {
    //     submenu.hidden = false;

    //     const button = submenu
    //       .closest(".usa-nav__primary-item")
    //       ?.querySelector("button[aria-controls]");

    //     if (button) {
    //       button.setAttribute("aria-expanded", "true");
    //     }
    //   }
    }
  });
});
